import{r as s,j as o,F as D,P as E,_ as h}from"./index-wwVzOwXE.js";function T({className:w}){const u=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,[c,k]=s.useState(u?"dark":"light"),[a,d]=s.useState(u),[r,f]=s.useState(JSON.parse(localStorage.getItem("wantsDark"))),[_,v]=s.useState(!1),m=async()=>{await h(()=>import("./vadorFunction-RxVj32ui.js"),__vite__mapDeps([])).then(e=>{e.switch_theme_rules()}),v(e=>!e)},g=async e=>{await h(()=>import("./vadorFunction-RxVj32ui.js"),__vite__mapDeps([])).then(t=>{t.setMetaColorScheme(e)})},p=s.useCallback(async()=>{localStorage.getItem("wantsDark")!==null&&(localStorage.removeItem("wantsDark"),f(null)),c!=(a===!0?"dark":"light")&&(await m(),d(!a)),await g(null)},[a,c]);function y(){localStorage.setItem("wantsDark",!a),f(!a)}return s.useEffect(()=>{if(!_)return;const e=async n=>{await h(()=>import("./vadorFunction-RxVj32ui.js"),__vite__mapDeps([])).then(async l=>{await l.adjustStylesheetForThemeMode(n)})},t=new MutationObserver(n=>{for(const l of n)if(l.type==="childList"){const S=l.addedNodes;for(const i of S)(i.tagName==="STYLE"||i.tagName==="LINK"&&i.rel==="stylesheet")&&e(i)}});return t.observe(document.documentElement,{childList:!0,subtree:!0}),()=>{t.disconnect()}},[_]),s.useEffect(()=>{async function e(){await g(a)}async function t(){await m(),d(r)}r!==null&&e(),r!==null&&r!=a&&t(),r===null&&c==="dark"!==a&&d(c==="dark")},[c,r,a]),s.useEffect(()=>{const e=async t=>{localStorage.getItem("wantsDark")!==null&&await m(),k(t.matches?"dark":"light")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",async t=>await e(t)),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",async t=>await e(t))}},[]),o.jsxs("div",{className:w+" vador",children:[o.jsx("button",{className:"vador__toggle"+(a?" vador__toggle--dark":""),"data-testid":"vador-testid","aria-label":"Toggle Dark or Light Mode",title:"Toggle Dark or Light Mode",onClick:()=>y(),children:o.jsx("div",{className:"vador__toggle__circle",children:o.jsx("div",{className:"vador__toggle__half-disc"})})}),o.jsx("button",{onClick:p,className:"vador__shred","aria-label":"Set back to system preference",title:"Set back to system preference",children:o.jsx(D,{icon:"fa-solid fa-rotate-left"})})]})}T.propTypes={className:E.string};export{T as VadorToggle};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}