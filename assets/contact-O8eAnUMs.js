import{r as h,j as t}from"./index-6C4Orvel.js";const c={_origin:"https://api.emailjs.com"},p=(s,e="https://api.emailjs.com")=>{c._userID=s,c._origin=e},d=(s,e,r)=>{if(!s)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class m{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const u=(s,e,r={})=>new Promise((a,i)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:n})=>{const o=new m(n);o.status===200||o.text==="OK"?a(o):i(o)}),l.addEventListener("error",({target:n})=>{i(new m(n))}),l.open("POST",c._origin+s,!0),Object.keys(r).forEach(n=>{l.setRequestHeader(n,r[n])}),l.send(e)}),f=(s,e,r,a)=>{const i=a||c._userID;return d(i,s,e),u("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:s,template_id:e,template_params:r}),{"Content-type":"application/json"})},x=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},g=(s,e,r,a)=>{const i=a||c._userID,l=x(r);d(i,s,e);const n=new FormData(l);return n.append("lib_version","3.11.0"),n.append("service_id",s),n.append("template_id",e),n.append("user_id",i),u("/api/v1.0/email/send-form",n)},j={init:p,send:f,sendForm:g};function v(s){return/^[\p{L}]([-']?[\p{L}]+)*( [\p{L}]([-']?[\p{L}]+)*)+$/iu.test(s)}function _(s){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(s)}function N(s){return/^\d{9,16}$/.test(s)}function b(s,e,r,a){return!s||!v(s)?(alert("Please enter a valid name !"),!1):!e||!_(e)?(alert("Please enter a valid mail !"),!1):a&&!N(a)?(alert("Please enter a valid phone number !"),!1):r?29>r.length||r.length>700?(alert("Please enter a message between 30 and 800 characters !"),!1):!0:(alert("Please enter a valid message !"),!1)}function F(){const s=h.useRef();async function e(){try{const a=await j.sendForm("service_7s3blms","template_h0dq0xs",s.current,"owysP7P1HSFXLsPTL");console.log("success , result: ",a),alert("Message sent successfully !")}catch(a){console.log("error",a),alert("Message failed to send !")}}const r=async a=>{a.preventDefault();const i=a.target.user_name.value,l=a.target.user_email.value,n=a.target.message.value,o=a.target.user_phone.value;b(i,l,n,o)&&e()};return t.jsxs("form",{ref:s,className:"contactForm",onSubmit:r,children:[t.jsxs("div",{className:"fields",children:[t.jsxs("div",{className:"field",children:[t.jsxs("label",{htmlFor:"name",children:["Your full Name: ",t.jsx("span",{className:"asterisk",children:"*"})]}),t.jsx("input",{type:"text",id:"name",name:"user_name",required:!0,maxLength:35})]}),t.jsxs("div",{className:"field",children:[t.jsxs("label",{htmlFor:"email",children:["E-mail: ",t.jsx("span",{className:"asterisk",children:"*"})]}),t.jsx("input",{type:"email",id:"email",name:"user_email",required:!0})]}),t.jsxs("div",{className:"field",children:[t.jsx("label",{htmlFor:"phone",children:"Phone:"}),t.jsx("input",{type:"tel",id:"phone",name:"user_phone",minLength:"9",maxLength:"16"})]}),t.jsxs("div",{className:"field",children:[t.jsxs("label",{htmlFor:"message",children:["Message: ",t.jsx("span",{className:"asterisk",children:"*"})]}),t.jsx("textarea",{id:"message",rows:8,name:"message",required:!0,minLength:30,maxLength:700})]})]}),t.jsxs("div",{className:"contactForm__footer",children:[t.jsx("button",{className:"submit",type:"submit",children:"Send Message !"}),t.jsx("span",{className:"asterisk",children:"* Required fields"})]})]})}function L(){return document.title="Contact | Barthélémy Werlé",t.jsxs("main",{"data-testid":"contact-testid",className:"container",children:[t.jsx("h1",{className:"contact-title",children:"Contact"}),t.jsx("div",{className:"contact-wrapper",children:t.jsx(F,{})})]})}export{L as default};
