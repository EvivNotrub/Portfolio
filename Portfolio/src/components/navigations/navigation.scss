.nav {
  position: relative;
  --list-item-padding: 5px 10px;
  --nav-list-width: 160px;
  display: flex;
  align-items: center;
  justify-content: end;
  &__mutton {
    // add .mutton without space to increase **specificity** if changes don't apply
    &:hover {
      & + .nav__list {
        transform: translate(0, 0) scale(1, 1);
        opacity: 1;
      }
    }
  }
  // TODO: check for browser support
  &:has(.nav__mutton .lines--sibling:checked) .nav__list {
    transform: translate(0, 0) scale(1, 1);
    opacity: 1;
  }
  &__list {
    text-align: end;
    background-color: var(--background-dark);
    color: var(--text-color-dark);
    width: var(--nav-list-width);
    padding: 1rem 0;
    position: absolute;
    top: calc(var(--mutton-height) + 10px);
    right: 0;
    order: -1;
    display: flex;
    flex-direction: column;
    transform-origin: top;
    transform: translate(0, 0) scale(1, 0);
    opacity: 0;
    transition: all 0.2s ease-in-out;
    @media (min-width: 1280px) {
      width: auto;
      flex-direction: row;
      transform-origin: right;
      transform: translate(0, 0) scale(0, 1);
      top: 0;
      right: calc(var(--mutton-width) + 0.8rem);
      gap: 0.8rem;
    }
    &__item {
      position: relative;
      padding: var(--list-item-padding);
      &:hover {
        // TODO: manage for mobile
        & .sub-nav {
          transform: translate(0, 0) scale(1, 1);
          opacity: 1;
        }
      }
      & .sub-nav {
        position: absolute;
        text-align: left;
        top: -1rem; // nav padding top
        right: var(--nav-list-width);
        padding: 0.5rem 0.7rem;
        background-color: var(--background-dark);
        color: var(--text-color-dark);
        transform-origin: right;
        transform: translate(0, 0) scale(0, 1);
        opacity: 0;
        // TODO: work on transition
        transition:
          transform 0.18s ease-in-out 0.085s,
          opacity 0.15s ease-in-out;
        @media (min-width: 1280px) {
          transform-origin: top;
          top: 100%;
          right: inherit;
          left: 0;
          transform: translate(0, 0) scale(1, 0);
        }
        & .sub-nav__list {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          & .sub-nav__item {
            font-size: 0.8em;
          }
        }
      }
    }
  }
}
